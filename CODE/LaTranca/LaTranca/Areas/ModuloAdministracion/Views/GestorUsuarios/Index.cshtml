@model List<LaTranca.Dominio.DTO.LaTranca.TR_USUARIO>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/Modulos/_LayoutAdminLaTranca.cshtml";
}

<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-lg-10">
        <h2>Gestión de Usuarios</h2>
    </div>
    <div class="col-lg-2">
    </div>
</div>

<div class="wrapper wrapper-content animated fadeInRight ecommerce">
    <div class="row">
        <div class="col-lg-12">
            <a class="btn btn-primary" href="/ModuloAdministracion/GestorUsuarios/SaveUpdateUsuario" style="margin-bottom:20px">Agregar Usuario</a>
        </div>
        <div class="col-lg-12">
            <div class="ibox float-e-margins">
                <div class="ibox-content">
                    <div class="table-responsive">

                        <table class="table table-striped table-bordered table-hover dataTables-example">

                            <!--Emil aca lista los usuarios de acuerdo a los campos que vamos a mostrar-->
                            <thead>
                                <tr>
                                    <th class="text-center">Nombre</th>
                                    <th class="text-center">Apellidos</th>
                                    <th class="text-center">Correo</th>
                                    <th class="text-center">Tipo de Documento</th>
                                    <th class="text-center">Num. de Documento</th>
                                    <th class="text-center">Celular</th>
                                    <th class="text-center">Tipo de usuario</th>
                                    <th class="text-center">Acciones</th>
                                </tr>
                            </thead>
                            <!--iterar con un for-->
                            <tbody>
                                @foreach (var usuario in Model)
                                {
                                    <tr class="gradeX">
                                        <td class="text-center">@usuario.USER_NOMBRES</td>
                                        <td class="text-center">@(usuario.USER_APE_PATERNO + " " + usuario.USER_APE_MATERNO)</td>
                                        <td class="text-center">@usuario.USER_CORREO</td>
                                        <td class="text-center">
                                            @switch (usuario.USER_TIPO_DOCUMENTO)
                                            {
                                                case 1:
                                                    <span>DNI</span>
                                                    break;
                                                case 2:
                                                    <span>RUC</span>
                                                    break;
                                                case 3:
                                                    <span>Carne Extranjero</span>
                                                    break;
                                            }
                                        </td>
                                        <td class="text-center">@usuario.USER_NUM_DOCUMENTO</td>
                                        <td class="text-center">@usuario.USER_CELULAR</td>
                                        <td class="text-center">Suscriptor</td>
                                        <td class="text-center">
                                            @*<div class="btn-group">
                                                    <a class="btn-white btn btn-xs" href="usuario_ver_tranca.html">Ver</a>
                                                    <a class="btn-white btn btn-xs" href="usuario_editar_tranca.html">Editar</a>
                                                    <a class="btn-white btn btn-xs demo4" href="#">Eliminar</a>
                                                </div>*@
                                            <div class="btn-group-xs" role="group">
                                                <button type="button" class="btn btn-info btnVerUsuario" id-usuario="@(usuario.USER_ID)" title="VER USUARIO">
                                                    <span class="fa fa-eye" aria-hidden="true"></span>
                                                </button>

                                                <button type="button" class="btn btn-success btnEditarUsuario" id-usuario="@(usuario.USER_ID)" title="EDITAR USUARIO">
                                                    <span class="fa fa-pencil" aria-hidden="true"></span>
                                                </button>

                                                <button type="button" class="btn btn-danger btnBloquearUsuario" id-usuario="@(usuario.USER_ID)" title="BLOQUEAR ACCESO AL SISTEMA">
                                                    <span class="fa fa-warning" aria-hidden="true"></span>
                                                </button>

                                                <button type="button" class="btn btn-default btnEditContrasenia" id-usuario="@(usuario.USER_ID)" title="CAMBIAR CONTRASEÑA DEL USUARIO">
                                                    <span class="fa fa-key" aria-hidden="true"></span>
                                                </button>

                                                <button type="button" class="btn btn-default btnCambiarRol" id-usuario="@(usuario.USER_ID)" title="CAMBIAR ROL DEL USUARIO">
                                                    <span class="fa fa-users" aria-hidden="true"></span>
                                                </button>

                                                <button type="button" class="btn btn-default btnEnviarCorreo" id-usuario="@(usuario.USER_ID)" title="ENVIAR CORREO AL USUARIO">
                                                    <span class="fa fa-envelope-o" aria-hidden="true"></span>
                                                </button>
                                            </div>

                                        </td>
                                    </tr>
                                }
                            </tbody>
                            <tfoot>
                                <tr>
                                    <th class="text-center">Nombre</th>
                                    <th class="text-center">Apellidos</th>
                                    <th class="text-center">Correo</th>
                                    <th class="text-center">Celular</th>
                                    <th class="text-center">Tipo de usuario</th>
                                    <th class="text-center">Acciones</th>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts{
    <script src="~/Areas/ModuloAdministracion/Content/Js/GestorUsuarios-Index.js"></script>
}
